<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MENÃš CAPIBOBBA - WhatsApp Optimized</title>
    
    <!-- Enlace al archivo CSS externo -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Google Fonts: Preconnect para mejorar la velocidad de descarga -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Google Fonts: Precarga y estilos para Nunito y Balsamiq Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:wght@700&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
</head>
<body>
    <!-- Burbujas de fondo animadas (elementos puramente decorativos) -->
    <div class="bubbles-background" aria-hidden="true">
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
        <span class="bubble"></span>
    </div>

    <!-- Contenedor principal de decoraciones kawaii flotantes (puramente decorativas) -->
    <div class="kawaii-decorations-wrapper" aria-hidden="true">
        <span class="kawaii-decoration bubble-tea-cup">ğŸ§‹</span>
        <span class="kawaii-decoration capybara-float-1">ğŸ¦«</span>
        <span class="kawaii-decoration capybara-float-2">ğŸ¦«</span>
        <span class="kawaii-decoration heart-float">ğŸ’–</span>
    </div>
    
    <!-- Contenedor principal de todo el contenido del menÃº -->
    <main class="menu-container">
        <!-- Encabezado principal de la pÃ¡gina -->
        <header class="header">
            <div class="capybobba-mascot" role="img" aria-label="Capibobba Logo con un corazÃ³n flotante">
                <!-- ImÃ¡genes del logo con atributos de rendimiento y accesibilidad -->
                <img id="logoLight" src="https://i.imgur.com/llR0NN0.png" alt="Capibobba Logo Modo Claro" width="250" height="250" loading="eager">
                <img id="logoDark" src="https://i.imgur.com/i7psA3z.png" alt="Capibobba Logo Modo Oscuro" width="250" height="250" loading="eager">
            </div>
            <h1 class="main-title">MENÃš CAPIBOBBA</h1>
            <p class="tagline">Â¡Dale un abrazo a tu bebida favorita! ğŸ§¸ğŸ’•</p>

            <!-- Resumen del carrito flotante en el header -->
            <div class="cart-summary" id="cartSummary" role="status" aria-live="polite" tabindex="0">
                <span class="cart-icon-emoji" id="cartIconEmoji" aria-hidden="true">ğŸ›’</span>
                <span class="cart-item-count" id="cartItemCount">0</span>
                <span class="visually-hidden">elementos en el carrito</span>
            </div>
        </header>
        
        <!-- Contenedor principal del contenido del menÃº (secciones de productos, promociones, etc.) -->
        <article class="content-wrapper">
            <!-- Divisor decorativo -->
            <div class="kawaii-divider" aria-hidden="true">
                <span class="emoji">ğŸŒŸ</span>
                <span class="emoji">âœ¨</span>
                <span class="emoji">ğŸŒŸ</span>
            </div>
            
            <!-- SecciÃ³n de FrappÃ©s base agua -->
            <section class="menu-section animate-on-scroll" id="water-based-frappes" aria-labelledby="water-frappes-title">
                <header class="section-header">
                    <h2 id="water-frappes-title" class="section-title">ğŸ¹âœ¨ FrappÃ©s mÃ¡gicos base agua - 16oz âœ¨ğŸ¹</h2>
                    <div class="price-banner">$75 (Incluye hielo â„ï¸ y ternura)</div>
                    <p class="section-description">
                        Refrescantes, frutales y muuuy kawaii ğŸ’–<br>
                        Ideal para dÃ­as soleados ğŸŒ
                    </p>
                    <p class="click-legend">da click en los sabores para ver una imagen de la boba</p>
                </header>
                
                <!-- Este div serÃ¡ llenado por JavaScript -->
                <div class="flavor-grid" id="waterFrappesGrid">
                    <!-- Productos de frappÃ©s base agua se insertarÃ¡n aquÃ­ dinÃ¡micamente -->
                </div>
            </section>
            
            <!-- Divisor decorativo -->
            <div class="kawaii-divider" aria-hidden="true">
                <span class="emoji">ğŸŒˆ</span>
                <span class="emoji">ğŸ§‹</span>
                <span class="emoji">ğŸŒˆ</span>
            </div>
            
            <!-- SecciÃ³n de FrappÃ©s base leche -->
            <section class="menu-section animate-on-scroll" id="milk-based-frappes" aria-labelledby="milk-frappes-title">
                <header class="section-header">
                    <h2 id="milk-frappes-title" class="section-title">ğŸ¼ğŸ’« FrappÃ©s mÃ¡gicos base leche - 16oz ğŸ’«ğŸ¼</h2>
                    <div class="price-banner">$75 (Cremositos, dulces y sÃºper abrazables ğŸ¤)</div>
                    <p class="section-description">Â¡Una nube cremosa con sabor! ğŸ§‹ğŸ°</p>
                    <p class="click-legend">da click en los sabores para ver una imagen de la boba</p>
                </header>
                
                <!-- Este div serÃ¡ llenado por JavaScript -->
                <div class="flavor-grid" id="milkFrappesGrid">
                    <!-- Productos de frappÃ©s base leche se insertarÃ¡n aquÃ­ dinÃ¡micamente -->
                </div>
            </section>
            
            <!-- SecciÃ³n de bebidas calientes -->
            <section class="menu-section hot-drinks animate-on-scroll" id="hot-drinks-section" aria-labelledby="hot-drinks-title">
                <header class="section-header">
                    <h2 id="hot-drinks-title" class="section-title">â˜•ğŸŒ¸ Bebidas Calientitas - 12oz ğŸŒ¸â˜•</h2>
                    <div class="price-banner">$60 â€“ Ideal para esos dÃ­as de frÃ­o o lluvia â˜”ğŸŒ§ï¸</div>
                    <p class="section-description">
                        Â¡Calientitas, reconfortantes y adorables para abrazar tu dÃ­a! ğŸ’•
                    </p>
                    <p class="click-legend">da click en los sabores para ver una imagen de la bebida</p>
                </header>
                
                <!-- Este div serÃ¡ llenado por JavaScript -->
                <div class="flavor-grid" id="hotDrinksGrid">
                    <!-- Productos de bebidas calientes se insertarÃ¡n aquÃ­ dinÃ¡micamente -->
                </div>
            </section>

            <!-- Divisor decorativo para la nueva secciÃ³n -->
            <div class="kawaii-divider" aria-hidden="true">
                <span class="emoji">ğŸ’–</span>
                <span class="emoji">âœ¨</span>
                <span class="emoji">ğŸ‰</span>
            </div>

            <!-- SecciÃ³n de Promociones y Novedades -->
            <section class="menu-section promotions-section animate-on-scroll" id="promotions-news-section" aria-labelledby="promotions-title">
                <header class="section-header">
                    <h2 id="promotions-title" class="section-title">ğŸŒŸ Novedades Kawaii y Promociones Exclusivas ğŸŒŸ</h2>
                    <p class="section-description">
                        Â¡No te pierdas las Ãºltimas sorpresas y ofertas mÃ¡s tiernas de Capibobba! âœ¨
                    </p>
                </header>

                <!-- NUEVA ESPECIALIDAD: CHAMOYADA -->
                <div class="promotion-item animate-on-scroll" id="chamoyadaPromotion" data-name="Chamoyada" data-price="75" tabindex="0">
                    <h3 class="promotion-item-title">ğŸŒ¶ï¸ğŸ¥­ Â¡Nueva! Especialidad: Chamoyada ğŸ¥­ğŸŒ¶ï¸</h3>
                    <p class="promotion-item-description">
                        El toque picosito que estabas esperando en el menÃº, disfruta de una boba explosiva y llena de sabor. Escoge el sabor que quieres llevar al siguiente nivel entre las opciones base agua que tenemos.
                    </p>
                    <button class="add-drink-to-cart-button" aria-label="AÃ±adir Chamoyada al carrito">AÃ±adir ğŸ’–</button>
                </div>
                
                <!-- FrappÃ© de Temporada con ID para el evento click (se mantiene para un caso especial) -->
                <div class="promotion-item animate-on-scroll" id="fresasConCremaPromotion" data-name="FrappÃ© Fresas con Crema (Temporada)" data-price="75" tabindex="0">
                    <h3 class="promotion-item-title">ğŸ“ğŸ¥› FrappÃ© de Temporada: "Fresas con Crema" ğŸ“ğŸ¥›</h3>
                    <p class="promotion-item-description">
                        Â¡El clÃ¡sico favorito de la abuela, pero en versiÃ³n kawaii! Disfruta de la dulzura de la fresa natural combinada con la cremosidad mÃ¡s suave. Â¡Un abrazo de fresas y amor en cada sorbo! Disponible solo por tiempo limitado.ğŸ’–âœ¨
                    </p>
                    <button class="add-drink-to-cart-button" aria-label="AÃ±adir FrappÃ© Fresas con Crema de Temporada al carrito">AÃ±adir ğŸ’–</button>
                </div>

                <div class="promotion-item animate-on-scroll" tabindex="0">
                    <h3 class="promotion-item-title">ğŸ Descuento por Primer Pedido ğŸ</h3>
                    <p class="promotion-item-description">
                        Â¡Bienvenido a la familia Capibobba! ObtÃ©n un 10% de descuento en tu primer pedido usando el cÃ³digo: **KAWAII10** al hacer tu encargo por WhatsApp. ğŸ¥³
                    </p>
                </div>
            </section>
            
            <!-- SecciÃ³n de Toppings (ahora solo para visualizaciÃ³n, la adiciÃ³n es vÃ­a modal) -->
            <section class="menu-section toppings-section animate-on-scroll" id="toppings-section" aria-labelledby="toppings-section-title">
                <header class="section-header">
                    <h2 id="toppings-section-title" class="section-title">ğŸŒˆğŸ§‹ Â¡Hazla tuya! Personaliza tu bebida ğŸ§‹ğŸŒˆ</h2>
                    <div class="toppings-title">
                        <span style="font-size: 24px; font-weight: 800;">ğŸ’– Toppings kawaii</span>
                        <span class="topping-price">+$10 cada uno</span>
                    </div>
                    <p class="section-description">
                        Selecciona estos toppings despuÃ©s de elegir tu bebida. Â¡No se pueden aÃ±adir solos al carrito!
                    </p>
                </header>
                
                <div class="topping-item animate-on-scroll" tabindex="0">
                    <h3 class="topping-name">ğŸ’¥ Perlas explosivas de frutos rojos</h3>
                    <p class="topping-description">Dulces mini-explosiones de amor â¤ï¸ğŸ«§</p>
                </div>
                
                <div class="topping-item animate-on-scroll" tabindex="0">
                    <h3 class="topping-name">ğŸ Perlas explosivas de manzana verde</h3>
                    <p class="topping-description">Â¡ExplosiÃ³n y frescura en cada sorbo! ğŸâœ¨</p>
                </div>
                
                <div class="topping-item animate-on-scroll" tabindex="0">
                    <h3 class="topping-name">ğŸ¤ Perlas explosivas de litchi</h3>
                    <p class="topping-description">Delicadas, frutales y muuuy adorables ğŸ¡ğŸ’–</p>
                </div>
                
                <div class="topping-item animate-on-scroll" tabindex="0">
                    <h3 class="topping-name">ğŸŒˆ Jelly arcoiris</h3>
                    <p class="topping-description">Suavecitos, coloridos y sÃºper divertidos ğŸ»ğŸŒˆ</p>
                </div>
            </section>

            <!-- Divisor decorativo -->
            <div class="kawaii-divider" aria-hidden="true">
                <span class="emoji">âœ¨</span>
                <span class="emoji">ğŸ›’</span>
                <span class="emoji">âœ¨</span>
            </div>

            <!-- SecciÃ³n del Carrito de Compras -->
            <section class="menu-section shopping-cart-section animate-on-scroll" id="shoppingCartSection" aria-labelledby="cart-section-title">
                <header class="section-header">
                    <h2 id="cart-section-title" class="section-title">ğŸ’– Tu Carrito Kawaii ğŸ’–</h2>
                </header>
                <ul id="cartItemsList" class="cart-items-list" aria-live="polite">
                    <!-- Los items del carrito se aÃ±adirÃ¡n dinÃ¡micamente aquÃ­ -->
                    <li class="empty-cart-message">Â¡Tu carrito estÃ¡ vacÃ­o, aÃ±ade algo delicioso! ğŸ’–</li>
                </ul>
                <div id="cartTotal" class="cart-total">Total: $0</div>

                <div class="cart-actions">
                    <button id="clearCartButton" class="cart-action-button clear-cart" disabled aria-label="Vaciar todos los elementos del carrito">
                        Vaciar Carrito ğŸ—‘ï¸
                    </button>
                    <button id="orderWhatsAppButton" class="cart-action-button order-whatsapp-button" disabled aria-label="Enviar pedido por WhatsApp">
                        Pedir por WhatsApp ğŸ“±
                    </button>
                </div>
            </section>
            
            <!-- SecciÃ³n de cÃ³mo ordenar -->
            <section class="order-section animate-on-scroll" id="order-process-section" aria-labelledby="order-title">
                <div class="order-content">
                    <h2 id="order-title" class="order-title">âœ¨ğŸ§¸ CÃ“MO ORDENAR TU BEBIDA KAWAII ğŸ§¸âœ¨</h2>
                    
                    <div class="order-steps">
                        <p class="order-step">1. Elige tu bebida (frappÃ© o caliente) y agrÃ©gala al carrito.</p>
                        <p class="order-step">2. Si deseas, selecciona toppings para esa bebida en la ventana emergente.</p>
                        <p class="order-step">3. Repite para cada bebida que quieras.</p>
                        <p class="order-step">
                            4. Cuando estÃ©s listo, haz clic en "Pedir por WhatsApp" para enviar tu orden automÃ¡ticamente.
                        </p>
                        <p class="order-step">
                            5. Recibe tu bebida y toma muchas fotos! Y etiqueta a <a href="https://www.facebook.com/share/195krrAWVG/" target="_blank" rel="noopener noreferrer" style="color: inherit; text-decoration: underline;">@Capibobba</a>, mÃ¡ndanos tu post y gana un <strong>$10 de descuento</strong> en tu siguiente pedido. ğŸ“¸ğŸ’•
                        </p>
                    </div>

                    <!-- SecciÃ³n de WhatsApp con nÃºmero de contacto -->
                    <div class="whatsapp-section">
                        <p class="whatsapp-text">Nuestro nÃºmero de contacto:</p>
                        <a href="https://wa.me/5217711831526" target="_blank" rel="noopener noreferrer" class="whatsapp-link">
                            <div class="whatsapp-number" role="button" tabindex="0" aria-label="NÃºmero de WhatsApp 771 279 4633">
                                7711831526
                                <span class="whatsapp-click-legend">Â¡TambiÃ©n puedes pedir dando click en "Pedir por WhatsApp" arriba!</span>
                            </div>
                        </a>
                    </div>
                </div>
            </section>
            
            <!-- Mensaje final -->
            <div class="final-message animate-on-scroll">
                <div>
                    > Todos nuestros frappÃ©s son servidos con mucho cariÃ±o y los llevamos a la puerta de tu hogar velozmente ğŸ’•<br>
                    El diseÃ±o de tu bebida siempre serÃ¡ adorable! ğŸ¾
                </div>
                <div class="highlight">
                    Â¿Listo para tomar algo tiernamente delicioso? ğŸ§‹âœ¨<br>
                    Â¡Te esperamos con una sonrisa y un vaso lleno de felicidad! ğŸ’–ğŸŒŸ
                </div>
            </div>
        </article>
    </main>

    <!-- Visor de ImÃ¡genes de Sabor (Overlay) - Modal -->
    <div id="flavorImageOverlay" class="flavor-image-overlay" role="dialog" aria-modal="true" aria-labelledby="flavorImageName">
        <div class="flavor-image-content">
            <img id="flavorImage" src="" alt="Imagen del sabor" width="300" height="300" loading="lazy">
            <h3 class="flavor-image-name" id="flavorImageName"></h3>
            <button class="close-modal-button" aria-label="Cerrar imagen del sabor">âœ–</button>
        </div>
    </div>

    <!-- Modal de SelecciÃ³n de Toppings -->
    <div id="toppingSelectionOverlay" class="topping-selection-overlay" role="dialog" aria-modal="true" aria-labelledby="topping-modal-title">
        <div class="topping-selection-content">
            <header class="section-header">
                <h2 id="topping-modal-title" class="section-title">Â¡Personaliza tu <span id="toppingDrinkName" class="current-drink-name-modal"></span>!</h2>
                <p>Selecciona los toppings que deseas aÃ±adir a esta bebida:</p>
            </header>
            <div id="toppingsModalGrid" class="toppings-modal-grid">
                <!-- Los toppings se cargarÃ¡n dinÃ¡micamente aquÃ­ por JS -->
            </div>
            <div class="topping-selection-actions">
                <button id="confirmToppingsButton" aria-label="Confirmar selecciÃ³n de toppings">Confirmar SelecciÃ³n âœ…</button>
                <button id="noToppingsButton" aria-label="No aÃ±adir toppings">Sin Toppings ğŸš«</button>
                <button id="cancelToppingsButton" aria-label="Cancelar selecciÃ³n de toppings">Cancelar âŒ</button>
            </div>
            <button class="close-modal-button" aria-label="Cerrar selecciÃ³n de toppings">âœ–</button>
        </div>
    </div>

    <!-- NUEVO: Modal de PersonalizaciÃ³n de Chamoyada -->
    <div id="chamoyadaCustomizationOverlay" class="flavor-image-overlay" role="dialog" aria-modal="true" aria-labelledby="chamoyada-modal-title">
        <div class="flavor-image-content">
            <header class="section-header">
                <h2 id="chamoyada-modal-title" class="section-title">Â¡Personaliza tu Chamoyada!</h2>
                <p class="section-description">Elige tu sabor base y aÃ±ade toppings.</p>
            </header>

            <div class="chamoyada-flavor-selection">
                <h3 class="flavor-selection-title">Escoge tu sabor base (Base Agua)</h3>
                <div id="chamoyadaBaseFlavorGrid" class="flavor-grid-small">
                    <!-- Los sabores base agua se cargarÃ¡n aquÃ­ dinÃ¡micamente por JS -->
                </div>
            </div>

            <div class="chamoyada-topping-selection">
                <h3 class="topping-selection-title">AÃ±ade Toppings (Opcional)</h3>
                <div id="chamoyadaToppingsGrid" class="toppings-modal-grid">
                    <!-- Los toppings existentes se cargarÃ¡n aquÃ­ dinÃ¡micamente por JS -->
                </div>
            </div>

            <div class="topping-selection-actions">
                <button id="confirmChamoyadaButton" aria-label="Confirmar Chamoyada">Confirmar Chamoyada âœ…</button>
                <button id="cancelChamoyadaButton" aria-label="Cancelar Chamoyada">Cancelar âŒ</button>
            </div>
            <button class="close-modal-button" aria-label="Cerrar personalizaciÃ³n de Chamoyada">âœ–</button>
        </div>
    </div>
    <!-- FIN NUEVO: Modal de PersonalizaciÃ³n de Chamoyada -->

    <!-- Enlace al archivo JavaScript externo con defer para no bloquear el renderizado -->
    <script src="script.js" defer></script>
</body>
</html>
